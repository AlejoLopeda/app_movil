.bottom-fixed{ position:fixed; left:0; right:0; bottom:0; z-index:9999; height:calc(var(--bottom-bar-height) + env(safe-area-inset-bottom) + 12px); background:var(--app-topbar-bg,#0d3f48); pointer-events:none; }
.bottombar{ pointer-events:auto; height:var(--bottom-bar-height); padding:8px 14px calc(8px + env(safe-area-inset-bottom)) 14px; --background:transparent; display:grid; align-items:center; }
.nav-cta{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.cta-btn{ height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; gap:6px; padding:0 12px; background:rgba(255,255,255,.12); color:#ffffff; font-weight:600; font-size:12.5px; text-transform:uppercase; letter-spacing:.05em; transition:background .2s, opacity .2s; text-align:center; }
.cta-btn ion-icon{ font-size:19px; }
.cta-btn:hover{ background:rgba(255,255,255,.22); }
/* ⬇️ estado disabled */
.cta-btn[disabled]{
  opacity:.45;
  cursor:not-allowed;
  filter:grayscale(30%);
}
.nav-history{ display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; }
.nav-history .cta-btn{ height:44px; }
.nav-history .cta-btn.active{ background:#ffffff; color:var(--app-topbar-bg,#0d3f48); box-shadow:0 2px 6px rgba(0,0,0,.18); }
.nav{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; background:rgba(255,255,255,.10); border-radius:16px; padding:10px; }
.nav-btn{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px; padding:10px 8px; border-radius:12px; background:transparent; color:#fff; font-size:12px; line-height:1.1; letter-spacing:.3px; text-transform:uppercase; white-space:nowrap; transition:background .2s, color .2s, box-shadow .2s; }
.nav-btn ion-icon{ font-size:19px; margin-bottom:2px; }
.nav-btn:hover{ background:rgba(255,255,255,.15); }
.nav-btn.active{ background:#fff; color:var(--app-topbar-bg,#0d3f48); box-shadow:0 2px 6px rgba(0,0,0,.18); }
.nav--cta{ background:transparent; padding:0; gap:10px; }
.nav--cta .nav-btn{ height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; gap:6px; padding:0 12px; background:rgba(255,255,255,.12); color:#ffffff; font-weight:600; font-size:12.5px; text-transform:uppercase; letter-spacing:.02em; }
.nav--cta .nav-btn ion-icon{ font-size:19px; margin:0; }
.nav--cta .nav-btn:hover{ background:rgba(255,255,255,.22); }
.nav--cta .nav-btn.active{ background:#ffffff; color:var(--app-topbar-bg,#0d3f48); box-shadow:0 2px 6px rgba(0,0,0,.18); }

@media (prefers-color-scheme: dark){
  .cta-btn{ background:rgba(255,255,255,.18); color:#e6f1f3; }
  .cta-btn:hover{ background:rgba(255,255,255,.28); }
  .nav{ background:rgba(255,255,255,.08); }
  .nav-btn{ color:#e6f1f3; }
  .nav-btn:hover{ background:rgba(255,255,255,.18); }
  .nav-btn.active{ background:#e6f1f3; color:var(--app-topbar-bg-dark,#0b2e35); }
  .nav--cta .nav-btn{ background:rgba(255,255,255,.18); color:#e6f1f3; }
  .nav--cta .nav-btn:hover{ background:rgba(255,255,255,.28); }
  .nav--cta .nav-btn.active{ background:#e6f1f3; color:var(--app-topbar-bg-dark,#0b2e35); }
}

/* Evitar aclarado visual cuando bloqueamos por navegación */
.bottombar .is-locked {
  pointer-events: none;         /* bloquea clics sin usar disabled */
}

/* Si algún botón está disabled pero la razón es "busy",
   forzamos estilo normal (no griseado) */
.bottombar .cta-btn[disabled][data-busy="true"],
.bottombar .nav-btn[disabled][data-busy="true"] {
  opacity: 1 !important;
  filter: none !important;
}

